<nav class="navbar">

  <div class="logo"><a href="home.component.html" style="text-decoration:none;color: #fff;
  margin-right: -60px;
    "> Grocery<span>Mart</span></a>
  </div>
  <!-- <input type="text" placeholder="Search groceries..." /> -->
  
  <div class="search-container">
      <input type="text" placeholder="Search groceries..." />
      <button type="submit">
        <i class="fa fa-search" style="color: white;"></i>
      </button>
    </div>

   
  <!-- <div class="links">
    <a routerLink="/register">Register</a>
    <a routerLink="/login-selection">Login</a>
  </div> -->
  <div class="links">
    <!-- <a routerLink="/add-to-cart">Cart</a> -->
    <a routerLink="/user-dashboard/profile">Profile</a>
    <a (click)="showLogoutConfirm = true" style="cursor: pointer;">Logout</a>

  </div>
</nav>

<div class="profile-container">
  <aside class="sidebar">
    <button class="sidebar-btn active">Basic Details</button>
    <button
      class="sidebar-btn"
      routerLink="/user-dashboard/profile/change-password"
    >
      Change Password
    </button>
  </aside>

  <section class="content">
    <h2>Basic Details</h2>
    <form [formGroup]="profileForm" (ngSubmit)="save()">
      <!-- Customer ID -->
      <label>Customer ID</label>
      <input formControlName="id" type="text" />

      <!-- Name -->
      <label>Name</label>
      <input
        formControlName="name"
        type="text"
        [class.invalid]="isInvalid('name')"
      />
      <div class="error" *ngIf="isInvalid('name')">
        {{ getErrorMsg('name') }}
      </div>

      <!-- Email -->
      <label>Email</label>
      <input
        formControlName="email"
        type="email"
        [class.invalid]="isInvalid('email')"
      />
      <div class="error" *ngIf="isInvalid('email')">
        {{ getErrorMsg('email') }}
      </div>

      <!-- Address -->
      <label>Address</label>
      <input
        formControlName="address"
        type="text"
        [class.invalid]="isInvalid('address')"
      />
      <div class="error" *ngIf="isInvalid('address')">
        {{ getErrorMsg('address') }}
      </div>

      <!-- Phone -->
      <label>Phone Number</label>
      <input
        formControlName="phone"
        type="tel"
        [class.invalid]="isInvalid('phone')"
      />
      <div class="error" *ngIf="isInvalid('phone')">
        {{ getErrorMsg('phone') }}
      </div>

      <div class="buttons">
        <button type="button" class="btn edit" (click)="toggleEdit()">
          {{ editMode ? 'Cancel' : 'Update' }}
        </button>
        <button type="submit" class="btn save" *ngIf="editMode">
          Save
        </button>
      </div>
    </form>
  </section>
</div>

<!-- Update Success Dialog -->
<div class="modal-backdrop" *ngIf="showUpdateDialog">
  <div class="modal">
    <p>Details updated successfully!</p>
    <button (click)="closeDialog()">OK</button>
  </div>
</div>




<!-- Logout Confirmation Dialog -->
<div class="dialog-overlay" *ngIf="showLogoutConfirm">
  <div class="dialog-box">
    <p>Are you sure you want to logout?</p>
    <div class="dialog-buttons">
      <button (click)="confirmLogout()" class="yes">Yes</button>
      <button (click)="cancelLogout()" class="no">No</button>
    </div>
  </div>
</div>

