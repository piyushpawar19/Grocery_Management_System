<!-- <app-navbar [showSearch]="false" [showBack]="true" (backClick)="back()"></app-navbar>
 -->
<!-- 
<nav class="navbar">
  <div class="logo">
    <a href="home.component.html" style="text-decoration: none; color: #fff">
      Grocery<span>Mgmt</span></a
    >
  </div>

  <input type="text" placeholder="Search groceries..." />
  <div class="links">
    <a routerLink="/">Logout</a>
  </div>
</nav> -->
<nav class="navbar">
  <button class="btn back" (click)="goBack()">‚Üê</button>
  <div class="logo">
    <a
      href="home.component.html"
      style="text-decoration: none; color: #fff; margin-right: -60px"
    >
      Grocery<span>Mart</span></a
    >
  </div>
  <!-- <input type="text" placeholder="Search groceries..." /> -->
  
  <div class="search-container">
      <input type="text" placeholder="Search groceries..." />
      <button type="submit">
      <i class="fa fa-search" style="color: white"></i>
      </button>
    </div>
   
  <!-- <div class="links">
    <a routerLink="/register">Register</a>
    <a routerLink="/login-selection">Login</a>
  </div> -->
  <div class="links">
    <!-- <a routerLink="/add-to-cart">Cart</a> -->
    <a routerLink="/user-dashboard/profile">Profile</a>
    <a (click)="showLogoutConfirm = true" style="cursor: pointer">Logout</a>
  </div>
</nav>

<!-- <div class="cart-container">
  <div class="cart-item" *ngFor="let c of items">
    <span>{{ c.title }}</span>
    <div class="controls">
      <button (click)="decrement(c)">-</button>
      <span>{{ c.quantity }}</span>
      <button (click)="increment(c)">+</button>
      <button (click)="remove(c)">Remove</button>
    </div>
    <span>$ {{ (c.quantity * c.price).toFixed(2) }}</span>
  </div> -->
<!-- <table class="cart-container">
  <thead>
    <tr>
      <th>Product</th>
      <th>Quantity</th>
      <th>Total</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    <tr class="cart-item" *ngFor="let c of items">
      <td>
        <span>{{ c.title }}</span>
      </td>
      <td>
        <div class="controls">
          <button (click)="decrement(c)">-</button>
          <span>{{ c.quantity }}</span>
          <button (click)="increment(c)">+</button>
        </div>
      </td>
      <td>
        <span>$ {{ (c.quantity * c.price).toFixed(2) }}</span>
      </td>
      <td>
        <button (click)="remove(c)">Remove</button>
      </td>
    </tr>
  </tbody>
</table> -->
<div class="cart-header">
  <h1>üõí Your Shopping Cart</h1>
  <p class="cart-subtitle">Review your items and proceed to checkout</p>
</div>
<!-- <table class="cart-container">
  <thead>
    <tr>
      <th>Product</th>
      <th>Quantity</th>
      <th>Total</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    <tr class="cart-item" *ngFor="let c of items">
      <td class="product-cell"> -->

        <!-- [src]="c.image" -->

        <!-- <img src="../../../assets/images/apple.jpg" alt="{{ c.title }}" class="product-image" />
        <span>{{ c.title }}</span>
      </td>
      <td>
        <div class="controls">
          <button (click)="decrement(c)">-</button>
          <span>{{ c.quantity }}</span>
          <button (click)="increment(c)">+</button>
        </div>
      </td>
      <td>
        <span>$ {{ (c.quantity * c.price).toFixed(2) }}</span>
      </td>
      <td>
        <button (click)="remove(c)">Remove</button>
      </td>
    </tr>
  </tbody>
</table> -->

<table class="cart-container" *ngIf="!loading && items.length > 0">
  <thead>
    <tr>
      <th>Product</th>
      <th>Price</th>
      <th>Quantity</th>
      <th>Total</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    <tr class="cart-item" *ngFor="let c of items">
      <td class="product-cell">
        <img
          src="../../../assets/images/apple.jpg"
          alt="{{ c.productName }}"
          class="product-image"
        />
        <span>{{ c.productName }}</span>
      </td>
      <td>
        <span>$ {{ c.unitPrice.toFixed(2) }}</span>
      </td>
      <td>
        <div class="controls">
          <button (click)="decrement(c)">-</button>
          <span>{{ c.quantity }}</span>
          <button (click)="increment(c)">+</button>
        </div>
      </td>
      <td>
        <span>$ {{ c.totalPrice.toFixed(2) }}</span>
      </td>
      <td>
        <button (click)="remove(c)">Remove</button>
      </td>
    </tr>
  </tbody>
</table>

<!-- Loading state -->
<div *ngIf="loading" class="loading-message">Loading cart items...</div>

<!-- Error state -->
<div *ngIf="errorMsg" class="error-message">
  {{ errorMsg }}
</div>

<!-- Empty cart state -->
<div *ngIf="!loading && items.length === 0" class="empty-cart">
  <p>Your cart is empty.</p>
  <button (click)="goBack()" class="continue-shopping">
    Continue Shopping
  </button>
</div>

  <!-- <div class="summary">
    <p>Total Items: {{ totalItems }}</p>
    <p>Total: $ {{ totalAmount.toFixed(2) }}</p>
    <button (click)="buyNow()">Buy Now</button>
  </div> -->

  <div class="summary">
  <p class="summary-line">
    <span>Total Items:</span>
    <span>{{ totalItems }}</span>
  </p>
  <p class="summary-line">
    <span>Total:</span>
    <span>$ {{ totalAmount.toFixed(2) }}</span>
  </p>
  <button (click)="buyNow()" class="checkout-button">Check out</button>
</div>

<!-- </div> -->

